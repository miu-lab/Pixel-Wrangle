{
	"codetabs": {
		"inputs": "float Force; // max=; default=0.25\nfloat Persistence; // max=2;default=1\nfloat Displace; // default=.5;max=2",
		"function": "/////////// spicy noise\n\n#define R uTDOutputInfo.res.xy\n#define ss(a,b,t) smoothstep(a,b,t)\n#define N normalize\n#define T(uv) texture(_i1, uv).r\n\n// Dave Hoskins https://www.shadertoy.com/view/4djSRW\nfloat hash11(float p)\n{\n    p = fract(p * .1031);\n    p *= p + 33.33;\n    p *= p + p;\n    return fract(p);\n}\nfloat hash13(vec3 p3)\n{\n\tp3  = fract(p3 * .1031);\n    p3 += dot(p3, p3.zyx + 31.32);\n    return fract((p3.x + p3.y) * p3.z);\n}\nvec2 hash23(vec3 p3)\n{\n\tp3 = fract(p3 * vec3(.1031, .1030, .0973));\n    p3 += dot(p3, p3.yzx+33.33);\n    return fract((p3.xx+p3.yz)*p3.zy);\n}\n\n// Martijn Steinrucken youtube.com/watch?v=b0AayhCO7s8\nfloat gyroid (vec3 seed)\n{\n    return dot(sin(seed),cos(seed.yzx));\n}\nfloat fbm (vec3 seed)\n{\n    // thebookofshaders.com/13\n    float result = 0.;\n    float a = .5;\n    for (int i = 0; i < 4; ++i)\n    {\n        // distort\n        seed += result / 2.;\n        \n        // animate\n        seed.y -= .1*Time.x/a;\n        \n        // accumulate\n        result += gyroid(seed/a)*a;\n        \n        // granule\n        a /= 3.;\n    }\n    return result;\n}",
		"outputs": "vec4 TEXTURE;\nvec4 COLOR;",
		"main": "/////////// coordinates\nvec2 uv = _UVN.st;\nvec2 ratio = vec2(uTDOutputInfo.res.z / uTDOutputInfo.res.w, 1);\nvec2 p = (_UVN.st -.5) * 2. * ratio;\n\n// salt\nfloat rng = pow(hash13(vec3(_UVN.st * uTDOutputInfo.res.zw, Time.x)), 2);\n\n// noise\nvec3 seed = vec3(p * vec2(1,.2), length(p) + Time.x) * 2.;\nfloat noise = fbm(seed);\nfloat a = noise * 3.14;\n\n// normal\nvec3 unit = vec3(vec2(.005), 0.);\nvec3 normal = normalize(vec3(T(uv-unit.xz)-T(uv+unit.xz),\n                                T(uv-unit.zy)-T(uv+unit.zy),\n                                unit.y));\n// mouse\nvec2 mouse = MousePos.xy;\nfloat clic = MouseClicks.x;\n\n////////// shape\nfloat shape = 1.;\n\n// bottom line\nshape *= ss(.01,.0,1.-uv.y);\n\n// wave\nshape *= ss(.5,.6,sin(Time.x*3.));\n\n// salt\nshape *= pow(rng, 4.);\n\n////////// forces field\nvec2 offset = vec2(0);\n        \n// turbulence                     \noffset -= vec2(cos(a),sin(a)) * fbm(seed+.195);\n\n// slope\noffset -= normal.xy * .5;\n\n// gravity\noffset += vec2(0,1);\n\n// obstacle\noffset *= texture(sTD2DInputs[0], uv).r;\n\n// mouse\nvec2 velocity = vec2(0);\np -= ((MousePos.xy-.5) * 2.) * ratio;\nfloat mouseArea = ss(.3,.0,length(p)-.01);\noffset -= clic * normalize(p) * mouseArea;\nvelocity += (texture(_i1, vec2(0)).yz - ((MousePos.xy-.5) * 2.) * ratio);\nif (length(velocity) > .001) velocity = clic * normalize(velocity) * mouseArea;\n\n// inertia\nvelocity = clamp(texture(_i1, uv).zy * .5 + velocity * .5,-1.,1.);\n\n// inertia\noffset += velocity;\nshape += mouseArea * .2 * clic;\n\n// apply\nuv += (.01 * Force) * offset;\n\n////////// frame buffer\nvec4 frame = texture(_i1, uv);\n\n// fade out\nfloat fade = Time.z*.1 * 1/Persistence;\nshape = max(shape, frame.r - fade);\n\n// result\nshape = clamp(shape, 0., 1.);\nwrite(COLOR, vec4(shape, velocity, 1));\n\n// normal\nvec3 un = vec3(vec2(.001), 0.);\nvec3 no = normalize(vec3(T(uv-un.xz)-T(uv+un.xz),\n                                T(uv-un.zy)-T(uv+un.zy),\n                                .0001)) * shape * Displace;\n\n// distort\nwrite(TEXTURE,texture(i0, uv+.1*no.xy));"
	},
	"pars": {
		"Force": {
			"name": "Force",
			"label": "Force",
			"page": "Controls",
			"style": "Float",
			"size": 1,
			"default": [
				0.25
			],
			"enable": true,
			"startSection": false,
			"readOnly": false,
			"enableExpr": "True",
			"help": "",
			"min": [
				0.0
			],
			"max": [
				1.0
			],
			"normMin": [
				0.0
			],
			"normMax": [
				1.0
			],
			"clampMin": [
				false
			],
			"clampMax": [
				false
			],
			"mode": [
				"CONSTANT"
			],
			"val": [
				0.25
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			],
			"isDefault": true
		},
		"Persistence": {
			"name": "Persistence",
			"label": "Persistence",
			"page": "Controls",
			"style": "Float",
			"size": 1,
			"default": [
				1.0
			],
			"enable": true,
			"startSection": false,
			"readOnly": false,
			"enableExpr": "True",
			"help": "",
			"min": [
				0.0
			],
			"max": [
				2.0
			],
			"normMin": [
				0.0
			],
			"normMax": [
				2.0
			],
			"clampMin": [
				false
			],
			"clampMax": [
				false
			],
			"mode": [
				"CONSTANT"
			],
			"val": [
				1.0
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			],
			"isDefault": true
		},
		"Displace": {
			"name": "Displace",
			"label": "Displace",
			"page": "Controls",
			"style": "Float",
			"size": 1,
			"default": [
				0.5
			],
			"enable": true,
			"startSection": false,
			"readOnly": false,
			"enableExpr": "True",
			"help": "",
			"min": [
				0.0
			],
			"max": [
				2.0
			],
			"normMin": [
				0.0
			],
			"normMax": [
				2.0
			],
			"clampMin": [
				false
			],
			"clampMax": [
				false
			],
			"mode": [
				"CONSTANT"
			],
			"val": [
				0.5
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			],
			"isDefault": true
		},
		"Inputstimeh": {
			"name": "Inputstimeh",
			"label": "Time",
			"page": "Inputs",
			"style": "Header",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"None"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Inputspanelh": {
			"name": "Inputspanelh",
			"label": "Panel Source",
			"page": "Inputs",
			"style": "Header",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"None"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Inputspanel": {
			"name": "Inputspanel",
			"label": "Panel",
			"page": "Inputs",
			"style": "PanelCOMP",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"None"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Inputsglobalh": {
			"name": "Inputsglobalh",
			"label": "Global",
			"page": "Inputs",
			"style": "Header",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"None"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Inputsactive1": {
			"name": "Inputsactive1",
			"label": "Active",
			"page": "Inputs",
			"style": "Toggle",
			"mode": [
				"CONSTANT"
			],
			"val": [
				true
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Inputsinputname1": {
			"name": "Inputsinputname1",
			"label": "Name",
			"page": "Inputs",
			"style": "Str",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"i1"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Inputsfallback1": {
			"name": "Inputsfallback1",
			"label": "Fallback",
			"page": "Inputs",
			"style": "Menu",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"sky"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Inputsinputfeedbackreset1": {
			"name": "Inputsinputfeedbackreset1",
			"label": "Reset",
			"page": "Inputs",
			"style": "Pulse",
			"mode": [
				"BIND"
			],
			"val": [
				0
			],
			"expr": [
				null
			],
			"bindExpr": [
				"me.par.Inputsresetall"
			]
		},
		"Inputsactive2": {
			"name": "Inputsactive2",
			"label": "Active",
			"page": "Inputs",
			"style": "Toggle",
			"mode": [
				"CONSTANT"
			],
			"val": [
				true
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Inputsinputname2": {
			"name": "Inputsinputname2",
			"label": "Name",
			"page": "Inputs",
			"style": "Str",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"i2"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Inputsinputtype2": {
			"name": "Inputsinputtype2",
			"label": "Type",
			"page": "Inputs",
			"style": "Menu",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"feedback"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Inputsinputfeedbackreset2": {
			"name": "Inputsinputfeedbackreset2",
			"label": "Reset",
			"page": "Inputs",
			"style": "Pulse",
			"mode": [
				"BIND"
			],
			"val": [
				0
			],
			"expr": [
				null
			],
			"bindExpr": [
				"me.par.Inputsresetall"
			]
		},
		"Inputsinputfeedbacksource2": {
			"name": "Inputsinputfeedbacksource2",
			"label": "Feedback Source",
			"page": "Inputs",
			"style": "Menu",
			"menuNames": [
				"TEXTURE",
				"COLOR"
			],
			"menuLabels": [
				"TEXTURE",
				"COLOR"
			],
			"mode": [
				"CONSTANT"
			],
			"val": [
				"COLOR"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Inputsinputfeedbackinitsourcetype2": {
			"name": "Inputsinputfeedbackinitsourcetype2",
			"label": "Feedback Init Type",
			"page": "Inputs",
			"style": "Menu",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"builtin"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Inputsinputfeedbackinitsourcebuiltin2": {
			"name": "Inputsinputfeedbackinitsourcebuiltin2",
			"label": "Feedback Init Built-in",
			"page": "Inputs",
			"style": "Menu",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"banana"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Inputsinputname3": {
			"name": "Inputsinputname3",
			"label": "Name",
			"page": "Inputs",
			"style": "Str",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"i3"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Inputsinputfeedbackreset3": {
			"name": "Inputsinputfeedbackreset3",
			"label": "Reset",
			"page": "Inputs",
			"style": "Pulse",
			"mode": [
				"BIND"
			],
			"val": [
				0
			],
			"expr": [
				null
			],
			"bindExpr": [
				"me.par.Inputsresetall"
			]
		},
		"Inputsinputname4": {
			"name": "Inputsinputname4",
			"label": "Name",
			"page": "Inputs",
			"style": "Str",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"i4"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Inputsinputtype4": {
			"name": "Inputsinputtype4",
			"label": "Type",
			"page": "Inputs",
			"style": "Menu",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"feedback"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Inputsinputfeedbackreset4": {
			"name": "Inputsinputfeedbackreset4",
			"label": "Reset",
			"page": "Inputs",
			"style": "Pulse",
			"mode": [
				"BIND"
			],
			"val": [
				0
			],
			"expr": [
				null
			],
			"bindExpr": [
				"me.par.Inputsresetall"
			]
		},
		"Inputsinputname5": {
			"name": "Inputsinputname5",
			"label": "Name",
			"page": "Inputs",
			"style": "Str",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"i5"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Inputsinputfeedbackreset5": {
			"name": "Inputsinputfeedbackreset5",
			"label": "Reset",
			"page": "Inputs",
			"style": "Pulse",
			"mode": [
				"BIND"
			],
			"val": [
				0
			],
			"expr": [
				null
			],
			"bindExpr": [
				"me.par.Inputsresetall"
			]
		},
		"Inputsinputname6": {
			"name": "Inputsinputname6",
			"label": "Name",
			"page": "Inputs",
			"style": "Str",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"i6"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Inputsinputfeedbackreset6": {
			"name": "Inputsinputfeedbackreset6",
			"label": "Reset",
			"page": "Inputs",
			"style": "Pulse",
			"mode": [
				"BIND"
			],
			"val": [
				0
			],
			"expr": [
				null
			],
			"bindExpr": [
				"me.par.Inputsresetall"
			]
		},
		"Inputsinputname7": {
			"name": "Inputsinputname7",
			"label": "Name",
			"page": "Inputs",
			"style": "Str",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"i7"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Inputsinputfeedbackreset7": {
			"name": "Inputsinputfeedbackreset7",
			"label": "Reset",
			"page": "Inputs",
			"style": "Pulse",
			"mode": [
				"BIND"
			],
			"val": [
				0
			],
			"expr": [
				null
			],
			"bindExpr": [
				"me.par.Inputsresetall"
			]
		},
		"Inputsinputname8": {
			"name": "Inputsinputname8",
			"label": "Name",
			"page": "Inputs",
			"style": "Str",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"i8"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Inputsinputfeedbackreset8": {
			"name": "Inputsinputfeedbackreset8",
			"label": "Reset",
			"page": "Inputs",
			"style": "Pulse",
			"mode": [
				"BIND"
			],
			"val": [
				0
			],
			"expr": [
				null
			],
			"bindExpr": [
				"me.par.Inputsresetall"
			]
		},
		"Outputsactive1": {
			"name": "Outputsactive1",
			"label": "Active",
			"page": "Outputs",
			"style": "Toggle",
			"mode": [
				"CONSTANT"
			],
			"val": [
				true
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Outputsoutputname1": {
			"name": "Outputsoutputname1",
			"label": "Name",
			"page": "Outputs",
			"style": "Str",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"Texture"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Outputsactive2": {
			"name": "Outputsactive2",
			"label": "Active",
			"page": "Outputs",
			"style": "Toggle",
			"mode": [
				"CONSTANT"
			],
			"val": [
				true
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Outputsoutputname2": {
			"name": "Outputsoutputname2",
			"label": "Name",
			"page": "Outputs",
			"style": "Str",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"Color"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Outputsoutputname3": {
			"name": "Outputsoutputname3",
			"label": "Name",
			"page": "Outputs",
			"style": "Str",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"Temp2"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Outputsoutputname4": {
			"name": "Outputsoutputname4",
			"label": "Name",
			"page": "Outputs",
			"style": "Str",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"o4"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Outputsoutputname5": {
			"name": "Outputsoutputname5",
			"label": "Name",
			"page": "Outputs",
			"style": "Str",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"o5"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Outputsoutputname6": {
			"name": "Outputsoutputname6",
			"label": "Name",
			"page": "Outputs",
			"style": "Str",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"o6"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Outputsoutputname7": {
			"name": "Outputsoutputname7",
			"label": "Name",
			"page": "Outputs",
			"style": "Str",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"o7"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Outputsoutputname8": {
			"name": "Outputsoutputname8",
			"label": "Name",
			"page": "Outputs",
			"style": "Str",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"o8"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Glversionh": {
			"name": "Glversionh",
			"label": "Version",
			"page": "GLSL",
			"style": "Header",
			"mode": [
				"CONSTANT"
			],
			"val": [
				""
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Glpreprocess": {
			"name": "Glpreprocess",
			"label": "Preprocess Directives",
			"page": "GLSL",
			"style": "DAT",
			"mode": [
				"CONSTANT"
			],
			"val": [
				""
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Glmodeh": {
			"name": "Glmodeh",
			"label": "Mode",
			"page": "GLSL",
			"style": "Header",
			"mode": [
				"CONSTANT"
			],
			"val": [
				""
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Glmode": {
			"name": "Glmode",
			"label": "Mode",
			"page": "GLSL",
			"style": "Menu",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"compute"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Glvertexdat": {
			"name": "Glvertexdat",
			"label": "Vertex Shader",
			"page": "GLSL",
			"style": "DAT",
			"mode": [
				"CONSTANT"
			],
			"val": [
				""
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Glautodispatchsize": {
			"name": "Glautodispatchsize",
			"label": "Auto Dispatch Size",
			"page": "GLSL",
			"style": "Toggle",
			"mode": [
				"CONSTANT"
			],
			"val": [
				true
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Gllocalsize": {
			"name": "Gllocalsize",
			"label": "Local Size",
			"page": "GLSL",
			"style": "Int",
			"size": 3,
			"mode": [
				"CONSTANT",
				"CONSTANT",
				"CONSTANT"
			],
			"val": [
				8,
				8,
				1
			],
			"expr": [
				null,
				null,
				null
			],
			"bindExpr": [
				null,
				null,
				null
			]
		},
		"Glcustomdepth": {
			"name": "Glcustomdepth",
			"label": "Depth",
			"page": "GLSL",
			"style": "Int",
			"size": 1,
			"mode": [
				"CONSTANT"
			],
			"val": [
				1
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Gluvh": {
			"name": "Gluvh",
			"label": "UV",
			"page": "GLSL",
			"style": "Header",
			"mode": [
				"CONSTANT"
			],
			"val": [
				""
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Glinputextenduv": {
			"name": "Glinputextenduv",
			"label": "Input Extend Mode UV",
			"page": "GLSL",
			"style": "Menu",
			"mode": [
				"CONSTANT"
			],
			"val": [
				"mirror"
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Globalsresolutionh": {
			"name": "Globalsresolutionh",
			"label": "Resolution",
			"page": "Globals",
			"style": "Header",
			"mode": [
				"CONSTANT"
			],
			"val": [
				""
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Globalsresolution": {
			"name": "Globalsresolution",
			"label": "Resolution",
			"page": "Globals",
			"style": "Int",
			"size": 2,
			"mode": [
				"CONSTANT",
				"CONSTANT"
			],
			"val": [
				1280,
				1280
			],
			"expr": [
				null,
				null
			],
			"bindExpr": [
				null,
				null
			]
		},
		"Globalsaspecth": {
			"name": "Globalsaspecth",
			"label": "Aspect",
			"page": "Globals",
			"style": "Header",
			"mode": [
				"CONSTANT"
			],
			"val": [
				""
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Globalsfilteringh": {
			"name": "Globalsfilteringh",
			"label": "Filtering",
			"page": "Globals",
			"style": "Header",
			"mode": [
				"CONSTANT"
			],
			"val": [
				""
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Globalspassesh": {
			"name": "Globalspassesh",
			"label": "Passes",
			"page": "Globals",
			"style": "Header",
			"mode": [
				"CONSTANT"
			],
			"val": [
				""
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Globalspixelformath": {
			"name": "Globalspixelformath",
			"label": "Pixel format",
			"page": "Globals",
			"style": "Header",
			"mode": [
				"CONSTANT"
			],
			"val": [
				""
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		},
		"Globalsmaskh": {
			"name": "Globalsmaskh",
			"label": "Mask",
			"page": "Globals",
			"style": "Header",
			"mode": [
				"CONSTANT"
			],
			"val": [
				""
			],
			"expr": [
				null
			],
			"bindExpr": [
				null
			]
		}
	}
}